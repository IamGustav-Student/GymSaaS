@using GymSaaS.Application.Accesos.Commands.RegistrarAcceso
@model AccesoDto // <--- AQUÍ ESTABA EL ERROR (Antes decía AccesoResultDto)

@{
    ViewData["Title"] = "Control de Acceso";
}

<div class="row justify-content-center">
    <div class="col-md-6 text-center">
        <h1 class="mb-4 text-uppercase fw-bold">Monitor de Acceso</h1>

        <div class="card shadow-lg mb-5">
            <div class="card-body p-5">
                <form asp-action="Registrar" method="post">
                    <div class="mb-4">
                        <label for="socioId" class="form-label text-muted">Escanee o ingrese ID del Socio</label>
                        <input type="number" name="socioId" class="form-control form-control-lg text-center fs-1 fw-bold" placeholder="000" autofocus required />
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">MARCAR ACCESO</button>
                    </div>
                </form>
            </div>
        </div>

        @if (Model != null)
        {
            <div class="card shadow border-0 bg-@Model.Color text-white fade-in-up">
                <div class="card-body p-5">
                    @if (Model.Permitido)
                    {
                        <i class="bi bi-check-circle-fill display-1 mb-3"></i>
                        <h2 class="display-4 fw-bold">ACCESO PERMITIDO</h2>
                    }
                    else
                    {
                        <i class="bi bi-x-circle-fill display-1 mb-3"></i>
                        <h2 class="display-4 fw-bold">ACCESO DENEGADO</h2>
                    }

                    <h3 class="mt-3">@Model.SocioNombre</h3>
                    <p class="fs-4 mt-2">@Model.Mensaje</p>

                    @if (Model.ClasesRestantes.HasValue)
                    {
                        <span class="badge bg-light text-dark fs-5 mt-2">
                            Clases Restantes: @Model.ClasesRestantes
                        </span>
                    }
                </div>
            </div>
        }
    </div>
</div>

<style>
    .fade-in-up {
        animation: fadeInUp 0.5s ease-out;
    }
    @@keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>